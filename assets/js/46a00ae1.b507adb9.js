"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[15281],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var r=o.createContext({}),u=function(e){var t=o.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(r.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,r=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),h=a,m=p["".concat(r,".").concat(h)]||p[h]||d[h]||i;return n?o.createElement(m,l(l({ref:t},c),{},{components:n})):o.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=h;var s={};for(var r in t)hasOwnProperty.call(t,r)&&(s[r]=t[r]);s.originalType=e,s[p]="string"==typeof e?e:a,l[1]=s;for(var u=2;u<i;u++)l[u]=n[u];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},88828:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(67294),a=n(35742);function i(e){let{title:t}=e;return o.createElement(a.Z,null,o.createElement("title",null,t))}},91553:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var o=n(87462),a=(n(67294),n(3905)),i=n(88828);const l={sidebar_position:7,title:"Plot Hold",description:"Learn how to use the `hold` functionality to overlay multiple datasets onto the same axes.",keywords:["openbb","openbb terminal","charting","matlab","hold","hodl","plotting","comparison"]},s=void 0,r={unversionedId:"terminal/usage/guides/plot-holds",id:"terminal/usage/guides/plot-holds",title:"Plot Hold",description:"Learn how to use the `hold` functionality to overlay multiple datasets onto the same axes.",source:"@site/content/terminal/usage/guides/plot-holds.md",sourceDirName:"terminal/usage/guides",slug:"/terminal/usage/guides/plot-holds",permalink:"/terminal/usage/guides/plot-holds",draft:!1,editUrl:"https://github.com/OpenBB-finance/OpenBBTerminal/edit/main/website/content/terminal/usage/guides/plot-holds.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Plot Hold",description:"Learn how to use the `hold` functionality to overlay multiple datasets onto the same axes.",keywords:["openbb","openbb terminal","charting","matlab","hold","hodl","plotting","comparison"]},sidebar:"tutorialSidebar",previous:{title:"Keyboard Hotkey Macros",permalink:"/terminal/usage/guides/keyboard-hotkey-macros"},next:{title:"Alternative",permalink:"/terminal/usage/intros/alternative"}},u={},c=[{value:"Customizing Charts",id:"customizing-charts",level:2},{value:"Known Issues",id:"known-issues",level:2}],p={toc:c},d="wrapper";function h(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(i.Z,{title:"Plot Hold - Terminal | OpenBB Docs",mdxType:"HeadTitle"}),(0,a.kt)("p",null,"As of OpenBB Terminal v3.2.0, the ",(0,a.kt)("inlineCode",{parentName:"p"},"hold")," functionality is available to allow users to overlay multiple datasets onto the same axes. This is useful for comparing datasets, or for plotting multiple datasets that share the same x-axis.  This guide will walk through the functionalities and the recommended workflow."),(0,a.kt)("p",null,"Drawing inspiration from MatLab, the ",(0,a.kt)("inlineCode",{parentName:"p"},"hold")," function is used to toggle the holding state of the current figure.  Unlike MatLab, this function needs to be called before calling any function that charts.  The hold state can be turned on by running"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"hold on\n")),(0,a.kt)("p",null,"from any terminal menu.  By default, new plots will be placed on a new axis, meaning comparing the magnitude values can be tricky.  If you wish to plot subsequent figures on the same axis, you can use the sameaxis argument:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"hold on --sameaxis\n")),(0,a.kt)("p",null,"Once the hold state is turned on, any terminal command with a plot will not be shown until the hold is turned off.  To turn off the hold state, and see the combined figure, run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"hold off\n")),(0,a.kt)("p",null,"An example workflow is as follows.  What this will do is plot the CPI and the GDP of the United States on the same axis."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"2023 Jul 19, 14:52 [openbb_coo] \ud83e\udd8b /economy/ $ hold on\n2023 Jul 19, 14:52 [openbb_coo] \ud83e\udd8b /economy/ $ gdp -c united_states\n2023 Jul 19, 14:52 [openbb_coo] \ud83e\udd8b /economy/ $ cpi -c united_states\n2023 Jul 19, 14:52 [openbb_coo] \ud83e\udd8b /economy/ $ hold off\n")),(0,a.kt)("p",null,"Which results in the following figure:"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/18151143/a3b1f09e-1a64-4af0-a5a2-070590d848e1",alt:"hold on ex1"})),(0,a.kt)("p",null,"To show the impact of the ",(0,a.kt)("inlineCode",{parentName:"p"},"--sameaxis")," argument, we can run the previous commands, but starting with ",(0,a.kt)("inlineCode",{parentName:"p"},"hold on --sameaxis"),".  Because GDP is on the order on 70,000 USD/capita and the CPI is on the order of 10 (percent), we will see the cpi being a flat line, and the trend will not be apparent:"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/18151143/43219ca7-126b-4782-bd95-5fa8967e0c6c",alt:"hold on ex2"})),(0,a.kt)("h2",{id:"customizing-charts"},"Customizing Charts"),(0,a.kt)("p",null,"A chart is often only as good as its labelling.  On the previous example, we can see that the legends reflected the command paths that were used, but not the arguments.  If we added gdp of a second country, we would not be able to tell which line is which country.  In order to avoid this confusion, when the hold state is on, every function comes with a ",(0,a.kt)("inlineCode",{parentName:"p"},"--legend")," argument.  This will pass the users desired label into the chart legend.  When the chart is displayed, the legends will display.  If a command is run without the --legend argument, it will default to using the command location as previously shown.  In rare cases, a legend may not appear due to it not being defined in the functions ",(0,a.kt)("inlineCode",{parentName:"p"},"view")," file.  In this case, please raise a GitHub issue so the team can address it."),(0,a.kt)("p",null,"An additional customization is the ability to add a custom title to the chart.  This can be specified by adding the `--title`` argument to the hold off functionality.  To show off these capabilities, we can use an example of plotting income statement items for different companies.  In this example, we can look at FAANG companies and plot their revenues on the same axis.  This example will show the previous 40 quarters."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $ hold on --sameaxis\n2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $  income -t AAPL -q -l 40 --plot revenue --legend AAPL Revenue\n2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $  income -t META -q -l 40 --plot revenue --legend META\n2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $  income -t AMZN -q -l 40 --plot revenue\n2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $  income -t GOOG -q -l 40 --plot revenue --legend GOOG\n2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $  income -t NFLX -q -l 40 --plot revenue --legend netflix\n2023 Jul 19, 15:31 [openbb_coo] \ud83e\udd8b /stocks/fa/ $ hold off --title FAANG Revenues 10 Year\n")),(0,a.kt)("p",null,"Which results in the following figure:"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/18151143/793d8309-6e49-42ca-b9bd-ff0dad9da959",alt:"hold on custom"})),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Running with a routine"),"This functionality is able to be used in a [script routine](https://docs.openbb.co/terminal/usage/guides/scripts-and-routines)",(0,a.kt)("p",null,"The previous terminal example can be expressed as the following routine:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$STOCKS=AAPL,AMZN,MSFT,TSLA,GOOG\nstocks\nfa\nhold on --sameaxis\nforeach $$tick in $STOCKS:\n   income -t $$tick -l 40 -q --plot revenue --legend $$tick revenue\nend\nhold off--title FAANG Revenues 10 Year\n"))),(0,a.kt)("h2",{id:"known-issues"},"Known Issues"),(0,a.kt)("p",null,"Unfortunately, there are some known issues with the hold functionality.  These are being worked on, and will be addressed in future releases.  The following are known issues:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"When plotting charts,  if the x axes are not the same, there may be an undesired result.  For example, if looking at the ",(0,a.kt)("inlineCode",{parentName:"li"},"fixedincome/ycrv")," function, the x axes is a number in years, so trying to plot a date along x will not work."),(0,a.kt)("li",{parentName:"ul"},"Candle charts are not supported within the hold state.  A work around to plot a close value would be to navigate to ",(0,a.kt)("inlineCode",{parentName:"li"},"qa/pick Close/line"),", which will plot a line chart."),(0,a.kt)("li",{parentName:"ul"},"Figures that have subplots on their own are not supported.  This functionality is meant to overlay data on the same axes, so if there are multiple subplots, it is not supported.  An example would be a function like ",(0,a.kt)("inlineCode",{parentName:"li"},"ta/macd"),".  The TA functions already have a multiple indicator functionality."),(0,a.kt)("li",{parentName:"ul"},"Running a single plot in the hold state messes with the figure layout and does not give the desired margin."),(0,a.kt)("li",{parentName:"ul"},"Time series data of varying frequencies may not produce smooth visuals.")))}h.isMDXComponent=!0}}]);