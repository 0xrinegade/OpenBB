"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[89243],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},62778:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:5,title:"Scripts & Routines",description:"The .openbb scripts offer the ability to automatically run a set of commands in the form of a **routine**. Furthermore, the scripts can be adapted, and documented, at any moment giving the user full control over the type of analysis you wish to do (and repeat). This can fundamental research, understanding market movements, finding hidden gems and even doing advanced statistical/econometric research.",keywords:["scripts","routines",".do file","stata","spss","r studio","python","automation","data collection","aggregation","script","routine","openbb terminal"]},o=void 0,s={unversionedId:"guides/advanced/scripts-and-routines",id:"guides/advanced/scripts-and-routines",title:"Scripts & Routines",description:"The .openbb scripts offer the ability to automatically run a set of commands in the form of a **routine**. Furthermore, the scripts can be adapted, and documented, at any moment giving the user full control over the type of analysis you wish to do (and repeat). This can fundamental research, understanding market movements, finding hidden gems and even doing advanced statistical/econometric research.",source:"@site/content/terminal/guides/advanced/scripts-and-routines.md",sourceDirName:"guides/advanced",slug:"/guides/advanced/scripts-and-routines",permalink:"/terminal/guides/advanced/scripts-and-routines",draft:!1,editUrl:"https://github.com/OpenBB-finance/OpenBBTerminal/edit/main/website/content/terminal/guides/advanced/scripts-and-routines.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"Scripts & Routines",description:"The .openbb scripts offer the ability to automatically run a set of commands in the form of a **routine**. Furthermore, the scripts can be adapted, and documented, at any moment giving the user full control over the type of analysis you wish to do (and repeat). This can fundamental research, understanding market movements, finding hidden gems and even doing advanced statistical/econometric research.",keywords:["scripts","routines",".do file","stata","spss","r studio","python","automation","data collection","aggregation","script","routine","openbb terminal"]},sidebar:"tutorialSidebar",previous:{title:"Customizing the Terminal",permalink:"/terminal/guides/advanced/customizing-the-terminal"},next:{title:"OpenBB Terminal Features",permalink:"/terminal/reference/"}},l={},p=[{value:"Create your own script",id:"create-your-own-script",level:3},{value:"Explanation of scripts",id:"explanation-of-scripts",level:3},{value:"Executing a script",id:"executing-a-script",level:3},{value:"Custom arguments",id:"custom-arguments",level:3}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},".openbb")," scripts offer the ability to automatically run a set of commands in the form of a ",(0,i.kt)("strong",{parentName:"p"},"routine"),". Furthermore, the scripts can be adapted, and documented, at any moment giving the user full control over the type of analysis you wish to do (and repeat). This can fundamental research, understanding market movements, finding hidden gems and even doing advanced statistical/econometric research. "),(0,i.kt)("p",null,"The .openbb scripts offer a vast amount of capabilities to export data from the OpenBB Terminal directly into Excel files allowing students, professors, researchers and professionals to collect a a large dataset incredibly quick. For example, the GIF below demonstrates market data collection of all constituents of the S&P 500. Download the routine file ",(0,i.kt)("a",{parentName:"p",href:"https://www.dropbox.com/s/3w8jgtzl0yoq9o9/sp500.openbb?dl=0"},"here")," and place it in the ",(0,i.kt)("inlineCode",{parentName:"p"},"routines")," folder as found in the ",(0,i.kt)("inlineCode",{parentName:"p"},"OpenBBUserData")," folder and execute with ",(0,i.kt)("inlineCode",{parentName:"p"},"exe sp500.openbb"),". Read on to understand in detail how to create and execute these type of files."),(0,i.kt)("iframe",{width:"100%",height:"450",src:"https://www.youtube.com/embed/mKdXGEkgdOM",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),(0,i.kt)("h3",{id:"create-your-own-script"},"Create your own script"),(0,i.kt)("p",null,"Within the OpenBB Terminal, you have the option to record your own session with ",(0,i.kt)("inlineCode",{parentName:"p"},"record")," which converts any commands you run in an .openbb script until you type ",(0,i.kt)("inlineCode",{parentName:"p"},"stop"),". Find a short demonstration below."),(0,i.kt)("iframe",{width:"100%",height:"450",src:"https://www.youtube.com/embed/dT_CcnyOpXQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),(0,i.kt)("p",null,"As shown in the video, scripts and routines reside in the ",(0,i.kt)("inlineCode",{parentName:"p"},"routines")," folder within the ",(0,i.kt)("inlineCode",{parentName:"p"},"OpenBBUserData")," folder (as found ",(0,i.kt)("a",{parentName:"p",href:"https://docs.openbb.co/terminal/guides/advanced/data"},"here"),") and are automatically shown when you type ",(0,i.kt)("inlineCode",{parentName:"p"},"exe")," from the home screen (",(0,i.kt)("inlineCode",{parentName:"p"},"home"),")."),(0,i.kt)("admonition",{title:"To manually create your own .openbb script use the following:",type:"note"},(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Download the file that can be used as a template ",(0,i.kt)("a",{parentName:"li",href:"https://www.dropbox.com/s/73g9qx9xgtbb2ec/routines_template.openbb?dl=0"},"here"),"."),(0,i.kt)("li",{parentName:"ol"},"Move the file inside the ",(0,i.kt)("inlineCode",{parentName:"li"},"routines")," folder within the ",(0,i.kt)("a",{parentName:"li",href:"https://docs.openbb.co/terminal/guides/advanced/data"},"OpenBBUserData")," folder and, optionally, adjust the name to your liking."),(0,i.kt)("li",{parentName:"ol"},"Open the file with a Text Editor (e.g. Notepad or TextEdit) and adjust the file accordingly."),(0,i.kt)("li",{parentName:"ol"},"Open up the OpenBB Terminal, and type ",(0,i.kt)("inlineCode",{parentName:"li"},"exe --file"),". The file should then be one of the options."),(0,i.kt)("li",{parentName:"ol"},"Select the file to run the routine script."))),(0,i.kt)("p",null,"As long as the file remains in the ",(0,i.kt)("inlineCode",{parentName:"p"},"routines")," folder, you will be able to find your file automatically as shown below:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/46355364/213746605-53cfeb46-13f2-4550-b0fd-9de8a6d06bf1.png",alt:"Script Showcase"})),(0,i.kt)("h3",{id:"explanation-of-scripts"},"Explanation of scripts"),(0,i.kt)("p",null,"The script file follows the following logic:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Comments"),": any text after a hashtag (",(0,i.kt)("inlineCode",{parentName:"li"},"#"),") is referred to as a comment. This is used to explain what is happening within the script and is not taking into account when running terminal commands."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Commands"),": any text ",(0,i.kt)("em",{parentName:"li"},"without")," a hashtag is being ran inside the OpenBB Terminal. E.g. on the second line it says ",(0,i.kt)("inlineCode",{parentName:"li"},"stocks")," thus within the OpenBB Terminal the script will enter ",(0,i.kt)("inlineCode",{parentName:"li"},"stocks")," and run this for you.")),(0,i.kt)("p",null,"These scripts have a 1-to-1 relationship with how you would normally use the terminal. To get a better understanding of how the terminal is used, please see ",(0,i.kt)("a",{href:"https://docs.openbb.co/terminal/guides/basics",target:"_blank",rel:"noreferrer noopener"},"Structure of the OpenBB Terminal"),". The example below can be executed by running ",(0,i.kt)("inlineCode",{parentName:"p"},"exe --example"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# Go into the stocks context\nstocks\n\n# Load a company ticker, e.g. Apple\nload AAPL\n\n# Show a candle chart with a 20 day Moving Average\ncandle --ma 20\n\n# Switch over to the Due Diligence menu\ndd\n\n# Show analyst ratings\nanalyst\n\n# Show price targets charts\npt\n\n# Show future estimations\nest\n\n# Return to home\nhome\n")),(0,i.kt)("h3",{id:"executing-a-script"},"Executing a script"),(0,i.kt)("p",null,"By going to the main menu as depicted below (accessible with ",(0,i.kt)("inlineCode",{parentName:"p"},"home"),"), the ",(0,i.kt)("inlineCode",{parentName:"p"},"exe")," command can be used. With this command you can run any ",(0,i.kt)("inlineCode",{parentName:"p"},".openbb")," script. These scripts are located where the application is located inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"routines")," folder as found in the ",(0,i.kt)("inlineCode",{parentName:"p"},"OpenBBUserData")," folder."),(0,i.kt)("p",null,"Thus, using the earlier mentioned script, we can enter ",(0,i.kt)("inlineCode",{parentName:"p"},"exe --file routines_template.openbb")," which automatically runs all commands within the script file. Thus, it will return a candle chart with a moving average of 20 days, expectations and price targets from analysts and estimated future performance before returning to the home window."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/46355364/213746495-6b38ab67-1d90-46b1-898f-9df1ce4063c0.png",alt:"OpenBB Routine Script Execution"})),(0,i.kt)("h3",{id:"custom-arguments"},"Custom arguments"),(0,i.kt)("p",null,"Next to that, it is also possible to add in custom arguments to your script making the script more interactive and allow you to do the same analysis for multiple companies. This is done in the following script (and can be downloaded ",(0,i.kt)("a",{parentName:"p",href:"https://www.dropbox.com/s/usooz6y29r1xldb/routines_template_with_inputs.openbb?dl=0"},"here"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# This script requires you to use arguments. This can be done with the following:\n# exe --file routines_template_with_inputs.openbb -i TSLA,AAPL,MSFT\n\n# Go to the stocks menu\nstocks\n\n# Load a ticker, given the argument used. E.g. -i TSLA\nload $ARGV[0]\n\n# Enter the Technical Analysis (ta) menu\nta\n\n# Show the fibonacci retracement levels\nfib\n\n# Enter the comparison analysis (ca) menu\n../ca\n\n# Set two extra tickers based on the arguments used. E.g. -i TSLA,AAPL,MSFT\nadd $ARGV[1],$ARGV[2]\n\n# Plot the historical prices\nhistorical\n\n# Return to home\nhome\n")),(0,i.kt)("p",null,"This script includes ",(0,i.kt)("inlineCode",{parentName:"p"},"$ARGV[0]"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"$ARGV[1]")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$ARGV[2]"),". This means that the script requires you to submit three arguments. In this case, they refer to ",(0,i.kt)("a",{href:"https://www.investopedia.com/ask/answers/12/what-is-a-stock-ticker.asp",target:"_blank",rel:"noreferrer noopener"},"stock tickers"),". Therefore, like the script also says, you can include these arguments with ",(0,i.kt)("inlineCode",{parentName:"p"},"-i")," followed by three tickers (e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"exe example_with_inputs.openbb -i TSLA,AAPL,MSFT"),"). This results in the following:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/46355364/213747540-1907ffdb-1950-42a7-bb5b-8482777a9763.png",alt:"OpenBB Script with Input"})),(0,i.kt)("p",null,"It is an incredibly simple script, but it gives an understanding what the possibilities are. Do make sure you saved this script in the ",(0,i.kt)("inlineCode",{parentName:"p"},"routines")," folder else you are not able to execute it."))}d.isMDXComponent=!0}}]);