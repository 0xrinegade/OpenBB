"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[54068],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),u=r,f=c["".concat(l,".").concat(u)]||c[u]||m[u]||o;return n?a.createElement(f,i(i({ref:t},d),{},{components:n})):a.createElement(f,i({ref:t},d))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},88828:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294),r=n(35742);function o(e){let{title:t}=e;return a.createElement(r.Z,null,a.createElement("title",null,t))}},32663:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(87462),r=(n(67294),n(3905)),o=n(88828);const i={title:"Basic Response & Command Coverage",sidebar_position:4,description:"This page details the basic response and output that can be expected to be received from the the OpenBB Platform, as well as instructions for determining the command coverage provided by the installed extensions.",keywords:["standardized output","OBBject","basic response","provider","results","warnings","chart","extra","command coverage"]},s=void 0,l={unversionedId:"platform/usage/basic_response",id:"platform/usage/basic_response",title:"Basic Response & Command Coverage",description:"This page details the basic response and output that can be expected to be received from the the OpenBB Platform, as well as instructions for determining the command coverage provided by the installed extensions.",source:"@site/content/platform/usage/basic_response.md",sourceDirName:"platform/usage",slug:"/platform/usage/basic_response",permalink:"/platform/usage/basic_response",draft:!1,editUrl:"https://github.com/OpenBB-finance/OpenBBTerminal/edit/main/website/content/platform/usage/basic_response.md",tags:[],version:"current",lastUpdatedBy:"montezdesousa",lastUpdatedAt:1713966587,formattedLastUpdatedAt:"Apr 24, 2024",sidebarPosition:4,frontMatter:{title:"Basic Response & Command Coverage",sidebar_position:4,description:"This page details the basic response and output that can be expected to be received from the the OpenBB Platform, as well as instructions for determining the command coverage provided by the installed extensions.",keywords:["standardized output","OBBject","basic response","provider","results","warnings","chart","extra","command coverage"]},sidebar:"tutorialSidebar",previous:{title:"User Settings & Environment Variables",permalink:"/platform/usage/settings_and_environment_variables"},next:{title:"Basic Syntax",permalink:"/platform/usage/basic_syntax"}},p={},d=[{value:"Dynamic Command Execution",id:"dynamic-command-execution",level:2},{value:"Commands and Provider Coverage",id:"commands-and-provider-coverage",level:2}],c={toc:d},m="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(o.Z,{title:"Basic Response - Usage | OpenBB Platform Docs",mdxType:"HeadTitle"}),(0,r.kt)("p",null,"The output of every command is an object which contains the results of the request, along with additional information. It is a custom class, ",(0,r.kt)("inlineCode",{parentName:"p"},"OBBject"),", and always returns with the fields listed below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"id: ...                 # UUID Tag\nresults: ...            # Serializable results.\nprovider: ...           # Provider name.\nwarnings: ...           # List of warnings.\nchart: ...              # Chart object.\nextra: ...              # Extra info.\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from openbb import obb\n\ndata = obb.equity.price.historical("SPY", provider="polygon")\n\ndata\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"OBBject\n\nid: 06520558-d54a-7e53-8000-7aafc8a42694\nresults: [{'date': datetime.datetime(2022, 10, 5, 0, 0), 'open': 375.62, 'high': 37...\nprovider: polygon\nwarnings: None\nchart: None\nextra: {'metadata': {'arguments': {'provider_choices': {'provider': 'polygon'}, 'st...\n")),(0,r.kt)("p",null,"Additional class methods are helpers for converting the results to a variety of formats."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to_dict()"),': converts to a dictionary, accepting all standard "orientation" parameters, i.e., "records"'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to_df()")," / ",(0,r.kt)("inlineCode",{parentName:"li"},"to_dataframe()"),": converts to a Pandas DataFrame."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to_numpy()"),": converts to a Numpy array."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"to_polars()"),": converts to a Polars table.")),(0,r.kt)("p",null,"The output from the Fast API is a serialized version of this object, and these methods are lost on conversion.  OBBject can be reconstructed to recover the helpers by importing the model and validating the data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'import requests\nfrom openbb_core.app.model.obbject import OBBject\n\ndata = []\nsymbol="SPY"\nurl = f"http://127.0.0.1:8000/api/v1/equity/price/historical?provider=polygon&symbol={symbol}"\nheaders = {"accept": "application/json"}\n\nresponse = requests.get(url, headers=headers, timeout=3)\n\nif response.status_code == 200:\n  data = OBBject.model_validate(response.json())\n\ndata.to_df()\n')),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The preferred output type can be set with a user preference."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-python"},'obb.user.preferences.output_type="dataframe"\n'))),(0,r.kt)("h2",{id:"dynamic-command-execution"},"Dynamic Command Execution"),(0,r.kt)("p",null,"Dynamic execution provides an alternate entry point to functions. This method requires formatting the query as demonstrated below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from openbb_core.app.command_runner import CommandRunner\nrunner = CommandRunner()\noutput = await runner.run(\n    "/equity/fundamental/ratios",\n    provider_choices={\n        "provider": "fmp",\n    },\n    standard_params={\n        "symbol" : "TSLA",\n        "period" : "quarter",\n    },\n    extra_params={}\n)\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},">>> output\nOBBject\n\nid: 065241b7-bd9d-7313-8000-9406d8afab75\nresults: [{'symbol': 'TSLA', 'date': '2023-06-30', 'period': 'Q2', 'current_ratio':...\nprovider: fmp\nwarnings: None\nchart: None\nextra: {'metadata': {'arguments': {'provider_choices': {'provider': 'fmp'}, 'standa...\n")),(0,r.kt)("h2",{id:"commands-and-provider-coverage"},"Commands and Provider Coverage"),(0,r.kt)("p",null,"The installed commands and data providers are found under, ",(0,r.kt)("inlineCode",{parentName:"p"},"obb.coverage"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"obb.coverage\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"/coverage\n\n    providers\n    commands\n    command_model\n    command_schemas\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"obb.coverage.providers")," is a dictionary of the installed provider extensions, each with its own list of available commands."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"obb.coverage.commands")," is a dictionary of commands, each with its own list of available providers for the data."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"obb.coverage.command_model")," is a dictionary where the keys are the command paths and the values is a nested dictionary of QueryParams and Data models associated with that function."))}u.isMDXComponent=!0}}]);