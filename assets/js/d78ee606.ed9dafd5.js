"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[17302],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),u=a,h=m["".concat(s,".").concat(u)]||m[u]||d[u]||i;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},88828:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294),a=n(35742);function i(e){let{title:t}=e;return r.createElement(a.Z,null,r.createElement("title",null,t))}},20509:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(87462),a=(n(67294),n(3905)),i=n(88828);const o={title:"Examples",sidebar_position:1,description:"This page provides examples of creating charts with the `openbb-charting` extension.",keywords:["tutorial","OpenBB Platform","Python client","Fast API","getting started","extensions","charting","view","Plotly","toolkits","how-to","generic","figure"]},l=void 0,s={unversionedId:"platform/extensions/charting/examples",id:"platform/extensions/charting/examples",title:"Examples",description:"This page provides examples of creating charts with the `openbb-charting` extension.",source:"@site/content/platform/extensions/charting/examples.md",sourceDirName:"platform/extensions/charting",slug:"/platform/extensions/charting/examples",permalink:"/platform/extensions/charting/examples",draft:!1,editUrl:"https://github.com/OpenBB-finance/OpenBBTerminal/edit/main/website/content/platform/extensions/charting/examples.md",tags:[],version:"current",lastUpdatedBy:"Danglewood",lastUpdatedAt:1715079455,formattedLastUpdatedAt:"May 7, 2024",sidebarPosition:1,frontMatter:{title:"Examples",sidebar_position:1,description:"This page provides examples of creating charts with the `openbb-charting` extension.",keywords:["tutorial","OpenBB Platform","Python client","Fast API","getting started","extensions","charting","view","Plotly","toolkits","how-to","generic","figure"]},sidebar:"tutorialSidebar",previous:{title:"OpenBB Charting",permalink:"/platform/extensions/charting/"},next:{title:"Installation",permalink:"/platform/extensions/charting/installation"}},c={},p=[{value:"Overview",id:"overview",level:2},{value:"Cumulative Returns",id:"cumulative-returns",level:2},{value:"Default View",id:"default-view",level:3},{value:"Redraw as YTD",id:"redraw-as-ytd",level:3},{value:"Price Performance Bar Chart",id:"price-performance-bar-chart",level:2},{value:"Create Bar Chart",id:"create-bar-chart",level:3},{value:"Create Your Own",id:"create-your-own",level:2}],m={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(i.Z,{title:"Examples - OpenBB Charting - Extensions | OpenBB Platform Docs",mdxType:"HeadTitle"}),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"This page will walk through creating different charts using the ",(0,a.kt)("inlineCode",{parentName:"p"},"openbb-charting")," extension.\nThe perspective for this content is from the the Python Interface,\nand the examples will assume that the OpenBB Platform is installed with all optional packages."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"from datetime import datetime, timedelta\nfrom openbb import obb\n")),(0,a.kt)("h2",{id:"cumulative-returns"},"Cumulative Returns"),(0,a.kt)("p",null,"The historical (equity) prices can be requested for multiple symbols.\nThe extension will attempt to handle variations accordingly.\nBy default, more than three symbols will draw the chart as cumulative returns from the beginning of the series."),(0,a.kt)("h3",{id:"default-view"},"Default View"),(0,a.kt)("p",null,"The tickers below are a collection of State Street Global Advisors SPDR funds, representing S&P 500 components.\nThe data is looking back five years."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'SPDRS = [\n    "SPY",\n    "XLE",\n    "XLB",\n    "XLI",\n    "XHB",\n    "XLP",\n    "XLY",\n    "XRT",\n    "XLF",\n    "XLV",\n    "XLK",\n    "XLC",\n    "XLU",\n    "XLRE",\n]\nstart_date = (datetime.now() - timedelta(weeks=52*5)).date()\nspdrs = obb.equity.price.historical(SPDRS, start_date=start_date, provider="yfinance", chart=True)\n\nspdrs.show()\n')),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/85772166/8884f4ed-b09c-4161-9dc6-87ad66d9fc8b",alt:"SPDRs Cumulative Returns - 5 years"})),(0,a.kt)("h3",{id:"redraw-as-ytd"},"Redraw as YTD"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"charting")," attribute of the command output has methods for creating the chart again.\nThe ",(0,a.kt)("inlineCode",{parentName:"p"},"data")," parameter allows modifications to the data before creating the figure.\nIn this example, the length of the data is trimmed to the beginning of the year."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'new_data = spdrs.to_df().loc[datetime(2023,12,29).date():]\nspdrs.charting.to_chart(data=new_data, title="YTD")\n')),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"This replaces the chart that was already created.")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/85772166/22ed2588-1098-4712-aec1-54dd22c324ef",alt:"SPDRs Cumulative Returns - YTD"})),(0,a.kt)("h2",{id:"price-performance-bar-chart"},"Price Performance Bar Chart"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"obb.equity.price.performance")," endpoint will create a bar chart over intervals."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"price_performance = obb.equity.price.performance(SPDRS, chart=True)\nprice_performance.show()\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/85772166/0de3260d-7fce-490b-90e1-bdfa38d6ab23",alt:"Price Performance"})),(0,a.kt)("h3",{id:"create-bar-chart"},"Create Bar Chart"),(0,a.kt)("p",null,"This example uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"create_bar_chart()")," method, which does not replace the existing chart, in ",(0,a.kt)("inlineCode",{parentName:"p"},"price_performance.chart"),".\nIt isolates the one-month performance and orients the layout as horizontal."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'new_data = price_performance.to_df().set_index("symbol").multiply(100).reset_index()\nprice_performance.charting.create_bar_chart(\n    data=new_data,\n    x="symbol",\n    y="one_month",\n    orientation="h",\n    title="One Month Price Performance",\n    xtitle="Percent (%)"\n)\n')),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/85772166/8da01f73-d7a8-4168-846a-9fa9ed6a0e39",alt:"Horizonontal Price Performance"})),(0,a.kt)("h2",{id:"create-your-own"},"Create Your Own"),(0,a.kt)("p",null,"This example analyzes the share volume turnover of the S&P 500 Energy Sector constituents, year-to-date."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"symbols = [\n    'XOM',\n    'CVX',\n    'COP',\n    'EOG',\n    'MPC',\n    'SLB',\n    'PSX',\n    'PXD',\n    'VLO',\n    'WMB',\n    'OKE',\n    'OXY',\n    'HES',\n    'FANG',\n    'HAL',\n    'KMI',\n    'DVN',\n    'BKR',\n    'TRGP',\n    'CTRA',\n    'MRO',\n    'EQT',\n    'APA'\n]\ndata = obb.equity.price.historical(symbols, start_date=\"2024-01-01\", provider=\"yfinance\")\ncreate_bar_chart = data.charting.create_bar_chart\nvolume = data.to_df().groupby(\"symbol\").sum()[\"volume\"]\nshares = obb.equity.profile(\n    symbols, provider=\"yfinance\"\n).to_df().set_index(\"symbol\")[\"shares_float\"]\ndf = volume.to_frame().join(shares)\ndf[\"Turnover\"] = (df.shares_float/df.volume).round(4)\ndf = df.sort_values(by=\"Turnover\", ascending=False).reset_index()\ncreate_bar_chart(\n    data=df,\n    x=\"symbol\",\n    y=\"Turnover\",\n    title=\"S&P Energy Sector YTD Turnover Rate\",\n)\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenBB-finance/OpenBBTerminal/assets/85772166/4f59eb36-e637-4a54-87ab-e730e43baf8d",alt:"S&P 500 Energy Sector Turnover Rate"})))}u.isMDXComponent=!0}}]);